{% extends "base.html" %}
{% block html_lang %}{{ page.lang }}{% endblock %}
{% block title %}{{ page.title|striptags }}{% endblock %}

{% block meta_description %}Glen Striders Running Events Calendar - Join us for marathons, fun runs, and running events in Harare, Zimbabwe{% endblock %}
{% block meta_keywords %}running events Harare, marathon Zimbabwe, fun run Glen-View, running calendar Harare, race events Zimbabwe, Glen Striders events{% endblock %}

{% block extra_head %}
  {% import 'translations.html' as translations with context %}
  {% if translations.entry_hreflang(page) %}
    {{ translations.entry_hreflang(page) }}
  {% endif %}
{% endblock %}

{% block hero %}{% endblock %}
{% block home_sections %}{% endblock %}

{% block content %}
<!-- Events Page -->
<section id="events" class="about section">
  <div class="container" data-aos="fade-up" data-aos-delay="100">
    
    <!-- Page Title -->
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center" data-aos="fade-up" data-aos-delay="200">
        <h2 class="section-heading">Running Events Calendar</h2>
        <p class="lead">Join Glen Striders at these upcoming events. Check back regularly for updates and new events!</p>
      </div>
    </div>

    <!-- Events Table -->
    <div class="row justify-content-center">
      <div class="col-lg-10" data-aos="fade-up" data-aos-delay="300">
        <div class="month-navigation">
          <button id="prev-month" class="month-nav-btn" aria-label="Previous month">
            <i class="bi bi-chevron-left"></i>
          </button>
          <h3 class="month-title" id="month-title">Running Events</h3>
          <button id="next-month" class="month-nav-btn" aria-label="Next month">
            <i class="bi bi-chevron-right"></i>
          </button>
        </div>
        <div class="events-table-container">
          <table class="events-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Race</th>
                <th>Venue</th>
              </tr>
            </thead>
            <tbody id="events-tbody">
              <!-- Events will be dynamically inserted here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>
</section>

<style>
/* Month Navigation */
.month-navigation {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.month-nav-btn {
  background: var(--accent-color);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
  font-size: 1.2rem;
}

.month-nav-btn:hover {
  background: color-mix(in srgb, var(--accent-color), black 15%);
  transform: scale(1.1);
}

.month-nav-btn:active {
  transform: scale(0.95);
}

.month-nav-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
  transform: none;
}

.month-title {
  margin: 0;
  flex: 0 0 auto;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--heading-color);
}

/* Events Table Styling */
.events-table-container {
  overflow-x: auto;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  padding: 2rem;
}

.events-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 1rem;
}

.events-table thead {
  background-color: var(--accent-color);
  color: white;
}

.events-table th {
  padding: 1rem;
  text-align: left;
  font-weight: 600;
  border: 1px solid #dee2e6;
}

.events-table td {
  padding: 0.75rem 1rem;
  border: 1px solid #dee2e6;
  vertical-align: top;
}

.events-table tbody tr:nth-child(even) {
  background-color: #f8f9fa;
}

.events-table tbody tr:hover {
  background-color: color-mix(in srgb, var(--accent-color), transparent 95%);
  transition: background-color 0.2s ease;
}

/* Responsive design */
@media (max-width: 768px) {
  .events-table-container {
    padding: 1rem;
  }
  
  .events-table {
    font-size: 0.9rem;
  }
  
  .events-table th,
  .events-table td {
    padding: 0.5rem;
  }
}
</style>

<script>
// Events data for 2026
const events2026 = [
  // January
  { date: '2026-01-03', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-01-04', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-01-10', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-01-11', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-01-17', day: 'Saturday', race: 'Glen Striders-Run To Braai', venue: '' },
  { date: '2026-01-18', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-01-23', day: 'Friday', race: 'Riot Comrades Marathon', venue: 'Harare' },
  { date: '2026-01-24', day: 'Saturday', race: 'Nyaradzo Fun Run', venue: 'Old Georgians' },
  { date: '2026-01-24', day: 'Saturday', race: 'Dr. Oliver Mutukudzi Memorial Half Marathon', venue: 'Pakare Paye Arts' },
  
  // February
  { date: '2026-02-07', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-02-08', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-02-14', day: 'Saturday', race: 'Old Mutual Harare Marathon', venue: 'QGSC' },
  { date: '2026-02-21', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-02-22', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-02-27', day: 'Friday', race: 'Old Mutual Harare Marathon', venue: '' },
  { date: '2026-02-27', day: 'Friday', race: 'The Salvation Army Sports Fellowship', venue: 'Harare' },
  { date: '2026-02-28', day: 'Saturday', race: 'AAC Chitungwiza Run', venue: 'Chitungwiza' },
  { date: '2026-02-28', day: 'Saturday', race: 'HAC 21km Challenge', venue: 'OGSC' },
  { date: '2026-02-28', day: 'Saturday', race: 'Musahvunda Half Marathon', venue: 'Harare' },
  
  // March
  { date: '2026-03-07', day: 'Saturday', race: 'CBZ Peter Gradwell Marathon', venue: '' },
  { date: '2026-03-08', day: 'Sunday', race: 'Riot Memorial Day Fundraising', venue: 'Harare' },
  { date: '2026-03-14', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-03-15', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-03-21', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-03-22', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-03-28', day: 'Saturday', race: 'Eastview Elites Water Run', venue: 'Harare' },
  { date: '2026-03-28', day: 'Saturday', race: 'Nyaradzo Run', venue: 'Harare' },
  
  // April
  { date: '2026-04-04', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-05', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-11', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-12', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-18', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-19', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-25', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-04-26', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // May
  { date: '2026-05-01', day: 'Friday', race: 'Nedbank Half Marathon', venue: '' },
  { date: '2026-05-02', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-03', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-09', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-10', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-16', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-17', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-23', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-24', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-05-30', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  
  // June
  { date: '2026-06-06', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-06-07', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-06-13', day: 'Saturday', race: 'Zuva Half Marathon', venue: '' },
  { date: '2026-06-20', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-06-21', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-06-27', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-06-28', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // July
  { date: '2026-07-04', day: 'Saturday', race: 'Econet Victoria Falls Marathon', venue: '' },
  { date: '2026-07-11', day: 'Saturday', race: 'HAC Chishawasha Cross Country Series 1', venue: '' },
  { date: '2026-07-18', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-07-19', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-07-25', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-07-26', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // August
  { date: '2026-08-01', day: 'Saturday', race: 'HAC Beatrice Gijima Cross Country Series 2', venue: '' },
  { date: '2026-08-08', day: 'Saturday', race: 'HAC Kariba Half Marathon', venue: '' },
  { date: '2026-08-15', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-08-16', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-08-22', day: 'Saturday', race: 'Stanbic Bank Half Marathon', venue: '' },
  { date: '2026-08-29', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-08-30', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // September
  { date: '2026-09-05', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-06', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-12', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-13', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-19', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-20', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-26', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-09-27', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // October
  { date: '2026-10-03', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-04', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-10', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-11', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-17', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-18', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-24', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-10-25', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // November
  { date: '2026-11-07', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-08', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-14', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-15', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-21', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-22', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-28', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-11-29', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  
  // December
  { date: '2026-12-05', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-06', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-12', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-13', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-19', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-20', day: 'Sunday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-26', day: 'Saturday', race: 'Glen Striders Event', venue: '' },
  { date: '2026-12-27', day: 'Sunday', race: 'Glen Striders Event', venue: '' }
];

// Function to get month name
function getMonthName(month) {
  const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                  'July', 'August', 'September', 'October', 'November', 'December'];
  return months[month];
}

// Function to format date for display
function formatDateDisplay(dateStr, day) {
  const date = new Date(dateStr);
  const dayNum = date.getDate();
  const month = date.toLocaleString('en-US', { month: 'short' });
  return `${day} ${dayNum} ${month}`;
}

// Current displayed month and year - start with January 2026
let displayedMonth = 0; // January (0-11)
let displayedYear = 2026;

// Function to display events for a specific month
function displayMonthEvents(month, year) {
  displayedMonth = month;
  displayedYear = year;
  
  // Update title
  const monthTitle = document.getElementById('month-title');
  monthTitle.textContent = `${getMonthName(month)} ${year} Running Events`;
  
  // Filter events for the specified month
  const monthEvents = events2026.filter(event => {
    const eventDate = new Date(event.date);
    return eventDate.getMonth() === month && eventDate.getFullYear() === year;
  });
  
  // Get tbody element
  const tbody = document.getElementById('events-tbody');
  tbody.innerHTML = '';
  
  // Add events to table
  if (monthEvents.length > 0) {
    monthEvents.forEach(event => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${formatDateDisplay(event.date, event.day)}</td>
        <td>${event.race}</td>
        <td>${event.venue}</td>
      `;
      tbody.appendChild(row);
    });
  } else {
    // No events this month
    const row = document.createElement('tr');
    row.innerHTML = `
      <td colspan="3" style="text-align: center; padding: 2rem;">No events scheduled for this month. Check back later!</td>
    `;
    tbody.appendChild(row);
  }
  
  // Update button states
  updateNavigationButtons();
}

// Function to update navigation button states
function updateNavigationButtons() {
  const prevBtn = document.getElementById('prev-month');
  const nextBtn = document.getElementById('next-month');
  
  // Disable previous button if we're at January 2026
  if (displayedMonth === 0 && displayedYear === 2026) {
    prevBtn.disabled = true;
  } else {
    prevBtn.disabled = false;
  }
  
  // Disable next button if we're at December 2026
  if (displayedMonth === 11 && displayedYear === 2026) {
    nextBtn.disabled = true;
  } else {
    nextBtn.disabled = false;
  }
}

// Function to navigate to previous month
function previousMonth() {
  if (displayedMonth === 0) {
    displayedMonth = 11;
    displayedYear--;
  } else {
    displayedMonth--;
  }
  displayMonthEvents(displayedMonth, displayedYear);
}

// Function to navigate to next month
function nextMonth() {
  if (displayedMonth === 11) {
    displayedMonth = 0;
    displayedYear++;
  } else {
    displayedMonth++;
  }
  displayMonthEvents(displayedMonth, displayedYear);
}

// Load events when page loads
document.addEventListener('DOMContentLoaded', function() {
  // Display current month events
  displayMonthEvents(displayedMonth, displayedYear);
  
  // Add event listeners to navigation buttons
  document.getElementById('prev-month').addEventListener('click', previousMonth);
  document.getElementById('next-month').addEventListener('click', nextMonth);
});
</script>
{% endblock %}
